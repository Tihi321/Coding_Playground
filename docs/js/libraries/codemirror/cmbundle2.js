CodeMirror.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(e,t){return/^[;{}]$/.test(t)}}),CodeMirror.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(e,t,n,r){return this.jsonMode?/^[\[,{]$/.test(t)||/^}/.test(n):(";"!=t||!r.lexical||")"!=r.lexical.type)&&(/^[;{}]$/.test(t)&&!/^;/.test(n))}}),CodeMirror.extendMode("xml",{commentStart:"\x3c!--",commentEnd:"--\x3e",newlineAfterToken:function(e,t,n){return"tag"==e&&/>$/.test(t)||/^</.test(n)}}),CodeMirror.defineExtension("commentRange",function(e,t,n){var r=this,o=CodeMirror.innerMode(r.getMode(),r.getTokenAt(t).state).mode;r.operation(function(){if(e)r.replaceRange(o.commentEnd,n),r.replaceRange(o.commentStart,t),t.line==n.line&&t.ch==n.ch&&r.setCursor(t.line,t.ch+o.commentStart.length);else{var i=r.getRange(t,n),l=i.indexOf(o.commentStart),a=i.lastIndexOf(o.commentEnd);l>-1&&a>-1&&a>l&&(i=i.substr(0,l)+i.substring(l+o.commentStart.length,a)+i.substr(a+o.commentEnd.length)),r.replaceRange(i,t,n)}})}),CodeMirror.defineExtension("autoIndentRange",function(e,t){var n=this;this.operation(function(){for(var r=e.line;r<=t.line;r++)n.indentLine(r,"smart")})}),CodeMirror.defineExtension("autoFormatRange",function(e,t){function n(){s+="\n",u=!0,++c}for(var r=this,o=r.getMode(),i=r.getRange(e,t).split("\n"),l=CodeMirror.copyState(o,r.getTokenAt(e).state),a=r.getOption("tabSize"),s="",c=0,u=0==e.ch,b=0;b<i.length;++b){for(var f=new CodeMirror.StringStream(i[b],a);!f.eol();){var d=CodeMirror.innerMode(o,l),h=o.token(f,l),m=f.current();f.start=f.pos,u&&!/\S/.test(m)||(s+=m,u=!1),!u&&d.mode.newlineAfterToken&&d.mode.newlineAfterToken(h,m,f.string.slice(f.pos)||i[b+1]||"",d.state)&&n()}!f.pos&&o.blankLine&&o.blankLine(l),u||n()}r.operation(function(){r.replaceRange(s,e,t);for(var n=e.line+1,o=e.line+c;n<=o;++n)r.indentLine(n,"smart");r.setSelection(e,r.getCursor(!1))})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){var t=e.flags;return null!=t?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}function n(e){return e.global?e:new RegExp(e.source,t(e)+"g")}function r(e){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}function o(e,t,r){t=n(t);for(var o=r.line,i=r.ch,l=e.lastLine();o<=l;o++,i=0){t.lastIndex=i;var a=e.getLine(o),s=t.exec(a);if(s)return{from:m(o,s.index),to:m(o,s.index+s[0].length),match:s}}}function i(e,t,i){if(!r(t))return o(e,t,i);t=n(t);for(var l,a=1,s=i.line,c=e.lastLine();s<=c;){for(var u=0;u<a;u++){var b=e.getLine(s++);l=null==l?b:l+"\n"+b}a*=2,t.lastIndex=i.ch;var f=t.exec(l);if(f){var d=l.slice(0,f.index).split("\n"),h=f[0].split("\n"),g=i.line+d.length-1,p=d[d.length-1].length;return{from:m(g,p),to:m(g+h.length-1,1==h.length?p+h[0].length:h[h.length-1].length),match:f}}}}function l(e,t){for(var n,r=0;;){t.lastIndex=r;var o=t.exec(e);if(!o)return n;if(n=o,(r=n.index+(n[0].length||1))==e.length)return n}}function a(e,t,r){t=n(t);for(var o=r.line,i=r.ch,a=e.firstLine();o>=a;o--,i=-1){var s=e.getLine(o);i>-1&&(s=s.slice(0,i));var c=l(s,t);if(c)return{from:m(o,c.index),to:m(o,c.index+c[0].length),match:c}}}function s(e,t,r){t=n(t);for(var o,i=1,a=r.line,s=e.firstLine();a>=s;){for(var c=0;c<i;c++){var u=e.getLine(a--);o=null==o?u.slice(0,r.ch):u+"\n"+o}i*=2;var b=l(o,t);if(b){var f=o.slice(0,b.index).split("\n"),d=b[0].split("\n"),h=a+f.length,g=f[f.length-1].length;return{from:m(h,g),to:m(h+d.length-1,1==d.length?g+d[0].length:d[d.length-1].length),match:b}}}}function c(e,t,n,r){if(e.length==t.length)return n;for(var o=Math.min(n,e.length);;){var i=r(e.slice(0,o)).length;if(i<n)++o;else{if(!(i>n))return o;--o}}}function u(e,t,n,r){if(!t.length)return null;var o=r?d:h,i=o(t).split(/\r|\n\r?/);e:for(var l=n.line,a=n.ch,s=e.lastLine()+1-i.length;l<=s;l++,a=0){var u=e.getLine(l).slice(a),b=o(u);if(1==i.length){var f=b.indexOf(i[0]);if(-1==f)continue e;var n=c(u,b,f,o)+a;return{from:m(l,c(u,b,f,o)+a),to:m(l,c(u,b,f+i[0].length,o)+a)}}var g=b.length-i[0].length;if(b.slice(g)==i[0]){for(var p=1;p<i.length-1;p++)if(o(e.getLine(l+p))!=i[p])continue e;var v=e.getLine(l+i.length-1),y=o(v),k=i[i.length-1];if(v.slice(0,k.length)==k)return{from:m(l,c(u,b,g,o)+a),to:m(l+i.length-1,c(v,y,k.length,o))}}}}function b(e,t,n,r){if(!t.length)return null;var o=r?d:h,i=o(t).split(/\r|\n\r?/);e:for(var l=n.line,a=n.ch,s=e.firstLine()-1+i.length;l>=s;l--,a=-1){var u=e.getLine(l);a>-1&&(u=u.slice(0,a));var b=o(u);if(1==i.length){var f=b.lastIndexOf(i[0]);if(-1==f)continue e;return{from:m(l,c(u,b,f,o)),to:m(l,c(u,b,f+i[0].length,o))}}var g=i[i.length-1];if(b.slice(0,g.length)==g){for(var p=1,n=l-i.length+1;p<i.length-1;p++)if(o(e.getLine(n+p))!=i[p])continue e;var v=e.getLine(l+1-i.length),y=o(v);if(y.slice(y.length-i[0].length)==i[0])return{from:m(l+1-i.length,c(v,y,v.length-i[0].length,o)),to:m(l,c(u,b,g.length,o))}}}}function f(e,t,r,l){this.atOccurrence=!1,this.doc=e,r=r?e.clipPos(r):m(0,0),this.pos={from:r,to:r};var c;"object"==typeof l?c=l.caseFold:(c=l,l=null),"string"==typeof t?(null==c&&(c=!1),this.matches=function(n,r){return(n?b:u)(e,t,r,c)}):(t=n(t),l&&!1===l.multiline?this.matches=function(n,r){return(n?a:o)(e,t,r)}:this.matches=function(n,r){return(n?s:i)(e,t,r)})}var d,h,m=e.Pos;String.prototype.normalize?(d=function(e){return e.normalize("NFD").toLowerCase()},h=function(e){return e.normalize("NFD")}):(d=function(e){return e.toLowerCase()},h=function(e){return e}),f.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){for(var n=this.matches(t,this.doc.clipPos(t?this.pos.from:this.pos.to));n&&0==e.cmpPos(n.from,n.to);)t?n.from.ch?n.from=m(n.from.line,n.from.ch-1):n=n.from.line==this.doc.firstLine()?null:this.matches(t,this.doc.clipPos(m(n.from.line-1))):n.to.ch<this.doc.getLine(n.to.line).length?n.to=m(n.to.line,n.to.ch+1):n=n.to.line==this.doc.lastLine()?null:this.matches(t,m(n.to.line+1,0));if(n)return this.pos=n,this.atOccurrence=!0,this.pos.match||!0;var r=m(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:r,to:r},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var r=e.splitLines(t);this.doc.replaceRange(r,this.pos.from,this.pos.to,n),this.pos.to=m(this.pos.from.line+r.length-1,r[r.length-1].length+(1==r.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,t,n){return new f(this.doc,e,t,n)}),e.defineDocExtension("getSearchCursor",function(e,t,n){return new f(this,e,t,n)}),e.defineExtension("selectMatches",function(t,n){for(var r=[],o=this.getSearchCursor(t,this.getCursor("from"),n);o.findNext()&&!(e.cmpPos(o.to(),this.getCursor("to"))>0);)r.push({anchor:o.from(),head:o.to()});r.length&&this.setSelections(r,0)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("./searchcursor"),require("../dialog/dialog")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./searchcursor","../dialog/dialog"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){return"string"==typeof e?e=new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t?"gi":"g"):e.global||(e=new RegExp(e.source,e.ignoreCase?"gi":"g")),{token:function(t){e.lastIndex=t.pos;var n=e.exec(t.string);if(n&&n.index==t.pos)return t.pos+=n[0].length||1,"searching";n?t.pos=n.index:t.skipToEnd()}}}function n(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function r(e){return e.state.search||(e.state.search=new n)}function o(e){return"string"==typeof e&&e==e.toLowerCase()}function i(e,t,n){return e.getSearchCursor(t,n,{caseFold:o(t),multiline:!0})}function l(e,t,n,r,o){e.openDialog(t,r,{value:n,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){h(e)},onKeyDown:o})}function a(e,t,n,r,o){e.openDialog?e.openDialog(t,o,{value:r,selectValueOnOpen:!0}):o(prompt(n,r))}function s(e,t,n,r){e.openConfirm?e.openConfirm(t,r):confirm(n)&&r[0]()}function c(e){return e.replace(/\\(.)/g,function(e,t){return"n"==t?"\n":"r"==t?"\r":t})}function u(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);if(t)try{e=new RegExp(t[1],-1==t[2].indexOf("i")?"":"i")}catch(e){}else e=c(e);return("string"==typeof e?""==e:e.test(""))&&(e=/x^/),e}function b(e,n,r){n.queryText=r,n.query=u(r),e.removeOverlay(n.overlay,o(n.query)),n.overlay=t(n.query,o(n.query)),e.addOverlay(n.overlay),e.showMatchesOnScrollbar&&(n.annotate&&(n.annotate.clear(),n.annotate=null),n.annotate=e.showMatchesOnScrollbar(n.query,o(n.query)))}function f(t,n,o,i){var s=r(t);if(s.query)return d(t,n);var c=t.getSelection()||s.lastQuery;if(o&&t.openDialog){var u=null,f=function(n,r){e.e_stop(r),n&&(n!=s.queryText&&(b(t,s,n),s.posFrom=s.posTo=t.getCursor()),u&&(u.style.opacity=1),d(t,r.shiftKey,function(e,n){var r;n.line<3&&document.querySelector&&(r=t.display.wrapper.querySelector(".CodeMirror-dialog"))&&r.getBoundingClientRect().bottom-4>t.cursorCoords(n,"window").top&&((u=r).style.opacity=.4)}))};l(t,p,c,f,function(n,o){var i=e.keyName(n),l=e.keyMap[t.getOption("keyMap")][i];l||(l=t.getOption("extraKeys")[i]),"findNext"==l||"findPrev"==l||"findPersistentNext"==l||"findPersistentPrev"==l?(e.e_stop(n),b(t,r(t),o),t.execCommand(l)):"find"!=l&&"findPersistent"!=l||(e.e_stop(n),f(o,n))}),i&&c&&(b(t,s,c),d(t,n))}else a(t,p,"Search for:",c,function(e){e&&!s.query&&t.operation(function(){b(t,s,e),s.posFrom=s.posTo=t.getCursor(),d(t,n)})})}function d(t,n,o){t.operation(function(){var l=r(t),a=i(t,l.query,n?l.posFrom:l.posTo);(a.find(n)||(a=i(t,l.query,n?e.Pos(t.lastLine()):e.Pos(t.firstLine(),0))).find(n))&&(t.setSelection(a.from(),a.to()),t.scrollIntoView({from:a.from(),to:a.to()},20),l.posFrom=a.from(),l.posTo=a.to(),o&&o(a.from(),a.to()))})}function h(e){e.operation(function(){var t=r(e);t.lastQuery=t.query,t.query&&(t.query=t.queryText=null,e.removeOverlay(t.overlay),t.annotate&&(t.annotate.clear(),t.annotate=null))})}function m(e,t,n){e.operation(function(){for(var r=i(e,t);r.findNext();)if("string"!=typeof t){var o=e.getRange(r.from(),r.to()).match(t);r.replace(n.replace(/\$(\d)/g,function(e,t){return o[t]}))}else r.replace(n)})}function g(e,t){if(!e.getOption("readOnly")){var n=e.getSelection()||r(e).lastQuery,o='<span class="CodeMirror-search-label">'+(t?"Replace all:":"Replace:")+"</span>";a(e,o+v,o,n,function(n){n&&(n=u(n),a(e,y,"Replace with:","",function(r){if(r=c(r),t)m(e,n,r);else{h(e);var o=i(e,n,e.getCursor("from")),l=function(){var t,c=o.from();!(t=o.findNext())&&(o=i(e,n),!(t=o.findNext())||c&&o.from().line==c.line&&o.from().ch==c.ch)||(e.setSelection(o.from(),o.to()),e.scrollIntoView({from:o.from(),to:o.to()}),s(e,k,"Replace?",[function(){a(t)},l,function(){m(e,n,r)}]))},a=function(e){o.replace("string"==typeof n?r:r.replace(/\$(\d)/g,function(t,n){return e[n]})),l()};l()}}))})}}var p='<span class="CodeMirror-search-label">Search:</span> <input type="text" style="width: 80%" class="CodeMirror-search-field"/>',v=' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',y='<span class="CodeMirror-search-label">With:</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/>',k='<span class="CodeMirror-search-label">Replace?</span> <button>Yes</button> <button>No</button> <button>All</button> <button>Stop</button>';e.commands.find=function(e){h(e),f(e)},e.commands.findPersistent=function(e){h(e),f(e,!1,!0)},e.commands.findPersistentNext=function(e){f(e,!1,!0,!0)},e.commands.findPersistentPrev=function(e){f(e,!0,!0,!0)},e.commands.findNext=f,e.commands.findPrev=function(e){f(e,!0)},e.commands.clearSearch=h,e.commands.replace=g,e.commands.replaceAll=function(e){g(e,!0)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(t,r){e.changeEnd(r).line==t.lastLine()&&n(t)}function n(e){var t="";e.lineCount()>1&&(t=e.display.scroller.clientHeight-30-e.getLineHandle(e.lastLine()).height+"px"),e.state.scrollPastEndPadding!=t&&(e.state.scrollPastEndPadding=t,e.display.lineSpace.parentNode.style.paddingBottom=t,e.off("refresh",n),e.setSize(),e.on("refresh",n))}e.defineOption("scrollPastEnd",!1,function(r,o,i){i&&i!=e.Init&&(r.off("change",t),r.off("refresh",n),r.display.lineSpace.parentNode.style.paddingBottom="",r.state.scrollPastEndPadding=null),o&&(r.on("change",t),r.on("refresh",n),n(r))})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t,n){var r;return r=e.getWrapperElement().appendChild(document.createElement("div")),r.className=n?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof t?r.innerHTML=t:r.appendChild(t),r}function n(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}e.defineExtension("openDialog",function(r,o,i){function l(e){if("string"==typeof e)b.value=e;else{if(c)return;c=!0,s.parentNode.removeChild(s),u.focus(),i.onClose&&i.onClose(s)}}i||(i={}),n(this,null);var a,s=t(this,r,i.bottom),c=!1,u=this,b=s.getElementsByTagName("input")[0];return b?(b.focus(),i.value&&(b.value=i.value,!1!==i.selectValueOnOpen&&b.select()),i.onInput&&e.on(b,"input",function(e){i.onInput(e,b.value,l)}),i.onKeyUp&&e.on(b,"keyup",function(e){i.onKeyUp(e,b.value,l)}),e.on(b,"keydown",function(t){i&&i.onKeyDown&&i.onKeyDown(t,b.value,l)||((27==t.keyCode||!1!==i.closeOnEnter&&13==t.keyCode)&&(b.blur(),e.e_stop(t),l()),13==t.keyCode&&o(b.value,t))}),!1!==i.closeOnBlur&&e.on(b,"blur",l)):(a=s.getElementsByTagName("button")[0])&&(e.on(a,"click",function(){l(),u.focus()}),!1!==i.closeOnBlur&&e.on(a,"blur",l),a.focus()),l}),e.defineExtension("openConfirm",function(r,o,i){function l(){c||(c=!0,a.parentNode.removeChild(a),u.focus())}n(this,null);var a=t(this,r,i&&i.bottom),s=a.getElementsByTagName("button"),c=!1,u=this,b=1;s[0].focus();for(var f=0;f<s.length;++f){var d=s[f];!function(t){e.on(d,"click",function(n){e.e_preventDefault(n),l(),t&&t(u)})}(o[f]),e.on(d,"blur",function(){--b,setTimeout(function(){b<=0&&l()},200)}),e.on(d,"focus",function(){++b})}}),e.defineExtension("openNotification",function(r,o){function i(){s||(s=!0,clearTimeout(l),a.parentNode.removeChild(a))}n(this,i);var l,a=t(this,r,o&&o.bottom),s=!1,c=o&&void 0!==o.duration?o.duration:5e3;return e.on(a,"click",function(t){e.e_preventDefault(t),i()}),c&&(l=setTimeout(i,c)),i})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){var t=e.search(i);return-1==t?0:t}function n(e,t,n){return/\bstring\b/.test(e.getTokenTypeAt(l(t.line,0)))&&!/^[\'\"\`]/.test(n)}function r(e,t){var n=e.getMode();return!1!==n.useInnerComments&&n.innerMode?e.getModeAt(t):n}var o={},i=/[^\s\u00a0]/,l=e.Pos;e.commands.toggleComment=function(e){e.toggleComment()},e.defineExtension("toggleComment",function(e){e||(e=o);for(var t=this,n=1/0,r=this.listSelections(),i=null,a=r.length-1;a>=0;a--){var s=r[a].from(),c=r[a].to();s.line>=n||(c.line>=n&&(c=l(n,0)),n=s.line,null==i?t.uncomment(s,c,e)?i="un":(t.lineComment(s,c,e),i="line"):"un"==i?t.uncomment(s,c,e):t.lineComment(s,c,e))}}),e.defineExtension("lineComment",function(e,a,s){s||(s=o);var c=this,u=r(c,e),b=c.getLine(e.line);if(null!=b&&!n(c,e,b)){var f=s.lineComment||u.lineComment;if(f){var d=Math.min(0!=a.ch||a.line==e.line?a.line+1:a.line,c.lastLine()+1),h=null==s.padding?" ":s.padding,m=s.commentBlankLines||e.line==a.line;c.operation(function(){if(s.indent){for(var n=null,r=e.line;r<d;++r){var o=(a=c.getLine(r)).slice(0,t(a));(null==n||n.length>o.length)&&(n=o)}for(r=e.line;r<d;++r){var a=c.getLine(r),u=n.length;(m||i.test(a))&&(a.slice(0,u)!=n&&(u=t(a)),c.replaceRange(n+f+h,l(r,0),l(r,u)))}}else for(r=e.line;r<d;++r)(m||i.test(c.getLine(r)))&&c.replaceRange(f+h,l(r,0))})}else(s.blockCommentStart||u.blockCommentStart)&&(s.fullLines=!0,c.blockComment(e,a,s))}}),e.defineExtension("blockComment",function(e,t,n){n||(n=o);var a=this,s=r(a,e),c=n.blockCommentStart||s.blockCommentStart,u=n.blockCommentEnd||s.blockCommentEnd;if(c&&u){if(!/\bcomment\b/.test(a.getTokenTypeAt(l(e.line,0)))){var b=Math.min(t.line,a.lastLine());b!=e.line&&0==t.ch&&i.test(a.getLine(b))&&--b;var f=null==n.padding?" ":n.padding;e.line>b||a.operation(function(){if(0!=n.fullLines){var r=i.test(a.getLine(b));a.replaceRange(f+u,l(b)),a.replaceRange(c+f,l(e.line,0));var o=n.blockCommentLead||s.blockCommentLead;if(null!=o)for(var d=e.line+1;d<=b;++d)(d!=b||r)&&a.replaceRange(o+f,l(d,0))}else a.replaceRange(u,t),a.replaceRange(c,e)})}}else(n.lineComment||s.lineComment)&&0!=n.fullLines&&a.lineComment(e,t,n)}),e.defineExtension("uncomment",function(e,t,n){n||(n=o);var a,s=this,c=r(s,e),u=Math.min(0!=t.ch||t.line==e.line?t.line:t.line-1,s.lastLine()),b=Math.min(e.line,u),f=n.lineComment||c.lineComment,d=[],h=null==n.padding?" ":n.padding;e:if(f){for(var m=b;m<=u;++m){var g=s.getLine(m),p=g.indexOf(f);if(p>-1&&!/comment/.test(s.getTokenTypeAt(l(m,p+1)))&&(p=-1),-1==p&&i.test(g))break e;if(p>-1&&i.test(g.slice(0,p)))break e;d.push(g)}if(s.operation(function(){for(var e=b;e<=u;++e){var t=d[e-b],n=t.indexOf(f),r=n+f.length;n<0||(t.slice(r,r+h.length)==h&&(r+=h.length),a=!0,s.replaceRange("",l(e,n),l(e,r)))}}),a)return!0}var v=n.blockCommentStart||c.blockCommentStart,y=n.blockCommentEnd||c.blockCommentEnd;if(!v||!y)return!1;var k=n.blockCommentLead||c.blockCommentLead,w=s.getLine(b),C=w.indexOf(v);if(-1==C)return!1;var x=u==b?w:s.getLine(u),S=x.indexOf(y,u==b?C+v.length:0);-1==S&&b!=u&&(x=s.getLine(--u),S=x.indexOf(y));var L=l(b,C+1),M=l(u,S+1);if(-1==S||!/comment/.test(s.getTokenTypeAt(L))||!/comment/.test(s.getTokenTypeAt(M))||s.getRange(L,M,"\n").indexOf(y)>-1)return!1;var O=w.lastIndexOf(v,e.ch),E=-1==O?-1:w.slice(0,e.ch).indexOf(y,O+v.length);if(-1!=O&&-1!=E&&E+y.length!=e.ch)return!1;E=x.indexOf(y,t.ch);var P=x.slice(t.ch).lastIndexOf(v,E-t.ch);return O=-1==E||-1==P?-1:t.ch+P,(-1==E||-1==O||O==t.ch)&&(s.operation(function(){s.replaceRange("",l(u,S-(h&&x.slice(S-h.length,S)==h?h.length:0)),l(u,S+y.length));var e=C+v.length;if(h&&w.slice(e,e+h.length)==h&&(e+=h.length),s.replaceRange("",l(b,C),l(b,e)),k)for(var t=b+1;t<=u;++t){var n=s.getLine(t),r=n.indexOf(k);if(-1!=r&&!i.test(n.slice(0,r))){var o=r+k.length;h&&n.slice(o,o+h.length)==h&&(o+=h.length),s.replaceRange("",l(t,r),l(t,o))}}}),!0)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,n){for(var r=n.paragraphStart||e.getHelper(t,"paragraphStart"),o=t.line,i=e.firstLine();o>i;--o){c=e.getLine(o);if(r&&r.test(c))break;if(!/\S/.test(c)){++o;break}}for(var l=n.paragraphEnd||e.getHelper(t,"paragraphEnd"),a=t.line+1,s=e.lastLine();a<=s;++a){var c=e.getLine(a);if(l&&l.test(c)){++a;break}if(!/\S/.test(c))break}return{from:o,to:a}}function n(e,t,n,r){for(var o=t;o<e.length&&" "==e.charAt(o);)o++;for(;o>0&&!n.test(e.slice(o-1,o+1));--o);for(var i=!0;;i=!1){var l=o;if(r)for(;" "==e.charAt(l-1);)--l;if(0!=l||!i)return{from:l,to:o};o=t}}function r(t,r,i,l){r=t.clipPos(r),i=t.clipPos(i);var a=l.column||80,s=l.wrapOn||/\s\S|-[^\.\d]/,c=!1!==l.killTrailingSpace,u=[],b="",f=r.line,d=t.getRange(r,i,!1);if(!d.length)return null;for(var h=d[0].match(/^[ \t]*/)[0],m=0;m<d.length;++m){var g=d[m],p=b.length,v=0;b&&g&&!s.test(b.charAt(b.length-1)+g.charAt(0))&&(b+=" ",v=1);var y="";if(m&&(y=g.match(/^\s*/)[0],g=g.slice(y.length)),b+=g,m){var k=b.length>a&&h==y&&n(b,a,s,c);k&&k.from==p&&k.to==p+v?(b=h+g,++f):u.push({text:[v?" ":""],from:o(f,p),to:o(f+1,y.length)})}for(;b.length>a;){var w=n(b,a,s,c);u.push({text:["",h],from:o(f,w.from),to:o(f,w.to)}),b=h+b.slice(w.to),++f}}return u.length&&t.operation(function(){for(var n=0;n<u.length;++n){var r=u[n];(r.text||e.cmpPos(r.from,r.to))&&t.replaceRange(r.text,r.from,r.to)}}),u.length?{from:u[0].from,to:e.changeEnd(u[u.length-1])}:null}var o=e.Pos;e.defineExtension("wrapParagraph",function(e,n){n=n||{},e||(e=this.getCursor());var i=t(this,e,n);return r(this,o(i.from,0),o(i.to-1),n)}),e.commands.wrapLines=function(e){e.operation(function(){for(var n=e.listSelections(),i=e.lastLine()+1,l=n.length-1;l>=0;l--){var a,s=n[l];if(s.empty()){var c=t(e,s.head,{});a={from:o(c.from,0),to:o(c.to-1)}}else a={from:s.from(),to:s.to()};a.to.line>=i||(i=a.from.line,r(e,a.from,a.to,{}))}})},e.defineExtension("wrapRange",function(e,t,n){return r(this,e,t,n||{})}),e.defineExtension("wrapParagraphsInRange",function(e,n,i){i=i||{};for(var l=this,a=[],s=e.line;s<=n.line;){var c=t(l,o(s,0),i);a.push(c),s=c.to}var u=!1;return a.length&&l.operation(function(){for(var e=a.length-1;e>=0;--e)u=u||r(l,o(a[e].from,0),o(a[e].to-1),i)}),u})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){this.cm=e,this.options=this.buildOptions(t),this.widget=this.onClose=null}function n(e){return"string"==typeof e?e:e.text}function r(e,t){function n(e,n){var o;o="string"!=typeof n?function(e){return n(e,t)}:r.hasOwnProperty(n)?r[n]:n,i[e]=o}var r={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(1-t.menuSize(),!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close},o=e.options.customKeys,i=o?{}:r;if(o)for(var l in o)o.hasOwnProperty(l)&&n(l,o[l]);var a=e.options.extraKeys;if(a)for(var l in a)a.hasOwnProperty(l)&&n(l,a[l]);return i}function o(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function i(t,i){this.completion=t,this.data=i;var s=this,c=t.cm,u=this.hints=document.createElement("ul");u.className="CodeMirror-hints",this.selectedHint=i.selectedHint||0;for(var b=i.list,f=0;f<b.length;++f){var d=u.appendChild(document.createElement("li")),h=b[f],m=l+(f!=this.selectedHint?"":" "+a);null!=h.className&&(m=h.className+" "+m),d.className=m,h.render?h.render(d,i,h):d.appendChild(document.createTextNode(h.displayText||n(h))),d.hintId=f}var g=c.cursorCoords(t.options.alignWithWord?i.from:null),p=g.left,v=g.bottom,y=!0;u.style.left=p+"px",u.style.top=v+"px";var k=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),w=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(t.options.container||document.body).appendChild(u);var C=u.getBoundingClientRect();if(C.bottom-w>0){var x=C.bottom-C.top;if(g.top-(g.bottom-C.top)-x>0)u.style.top=(v=g.top-x)+"px",y=!1;else if(x>w){u.style.height=w-5+"px",u.style.top=(v=g.bottom-C.top)+"px";var S=c.getCursor();i.from.ch!=S.ch&&(g=c.cursorCoords(S),u.style.left=(p=g.left)+"px",C=u.getBoundingClientRect())}}var L=C.left-k;if(L>0&&(C.right-C.left>k&&(u.style.width=k-5+"px",L-=C.right-C.left-k),u.style.left=(p=g.left-L)+"px"),c.addKeyMap(this.keyMap=r(t,{moveFocus:function(e,t){s.changeActive(s.selectedHint+e,t)},setFocus:function(e){s.changeActive(e)},menuSize:function(){return s.screenAmount()},length:b.length,close:function(){t.close()},pick:function(){s.pick()},data:i})),t.options.closeOnUnfocus){var M;c.on("blur",this.onBlur=function(){M=setTimeout(function(){t.close()},100)}),c.on("focus",this.onFocus=function(){clearTimeout(M)})}var O=c.getScrollInfo();return c.on("scroll",this.onScroll=function(){var e=c.getScrollInfo(),n=c.getWrapperElement().getBoundingClientRect(),r=v+O.top-e.top,o=r-(window.pageYOffset||(document.documentElement||document.body).scrollTop);if(y||(o+=u.offsetHeight),o<=n.top||o>=n.bottom)return t.close();u.style.top=r+"px",u.style.left=p+O.left-e.left+"px"}),e.on(u,"dblclick",function(e){var t=o(u,e.target||e.srcElement);t&&null!=t.hintId&&(s.changeActive(t.hintId),s.pick())}),e.on(u,"click",function(e){var n=o(u,e.target||e.srcElement);n&&null!=n.hintId&&(s.changeActive(n.hintId),t.options.completeOnSingleClick&&s.pick())}),e.on(u,"mousedown",function(){setTimeout(function(){c.focus()},20)}),e.signal(i,"select",b[0],u.firstChild),!0}var l="CodeMirror-hint",a="CodeMirror-hint-active";e.showHint=function(e,t,n){if(!t)return e.showHint(n);n&&n.async&&(t.async=!0);var r={hint:t};if(n)for(var o in n)r[o]=n[o];return e.showHint(r)},e.defineExtension("showHint",function(n){if(!(this.listSelections().length>1||this.somethingSelected())){this.state.completionActive&&this.state.completionActive.close();var r=this.state.completionActive=new t(this,n),o=r.options.hint;if(o){if(e.signal(this,"startCompletion",this),!o.async)return r.showHints(o(this,r.options));o(this,function(e){r.showHints(e)},r.options)}}}),t.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.widget&&this.widget.close(),this.onClose&&this.onClose(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,r){var o=t.list[r];o.hint?o.hint(this.cm,t,o):this.cm.replaceRange(n(o),o.from||t.from,o.to||t.to,"complete"),e.signal(t,"pick",o),this.close()},showHints:function(e){if(!e||!e.list.length||!this.active())return this.close();this.options.completeSingle&&1==e.list.length?this.pick(e,0):this.showWidget(e)},showWidget:function(t){function n(){s||(s=!0,u.close(),u.cm.off("cursorActivity",a),t&&e.signal(t,"close"))}function r(){if(!s){e.signal(t,"update");var n=u.options.hint;n.async?n(u.cm,o,u.options):o(n(u.cm,u.options))}}function o(e){if(t=e,!s){if(!t||!t.list.length)return n();u.widget&&u.widget.close(),u.widget=new i(u,t)}}function l(){c&&(m(c),c=0)}function a(){l();var e=u.cm.getCursor(),t=u.cm.getLine(e.line);e.line!=f.line||t.length-e.ch!=d-f.ch||e.ch<f.ch||u.cm.somethingSelected()||e.ch&&b.test(t.charAt(e.ch-1))?u.close():(c=h(r),u.widget&&u.widget.close())}this.widget=new i(this,t),e.signal(t,"shown");var s,c=0,u=this,b=this.options.closeCharacters,f=this.cm.getCursor(),d=this.cm.getLine(f.line).length,h=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},m=window.cancelAnimationFrame||clearTimeout;this.cm.on("cursorActivity",a),this.onClose=n},buildOptions:function(e){var t=this.cm.options.hintOptions,n={};for(var r in s)n[r]=s[r];if(t)for(var r in t)void 0!==t[r]&&(n[r]=t[r]);if(e)for(var r in e)void 0!==e[r]&&(n[r]=e[r]);return n}},i.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,n){if(t>=this.data.list.length?t=n?this.data.list.length-1:0:t<0&&(t=n?0:this.data.list.length-1),this.selectedHint!=t){var r=this.hints.childNodes[this.selectedHint];r.className=r.className.replace(" "+a,""),(r=this.hints.childNodes[this.selectedHint=t]).className+=" "+a,r.offsetTop<this.hints.scrollTop?this.hints.scrollTop=r.offsetTop-3:r.offsetTop+r.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=r.offsetTop+r.offsetHeight-this.hints.clientHeight+3),e.signal(this.data,"select",this.data.list[this.selectedHint],r)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},e.registerHelper("hint","auto",function(t,n){var r,o=t.getHelpers(t.getCursor(),"hint");if(o.length)for(var i=0;i<o.length;i++){var l=o[i](t,n);if(l&&l.list.length)return l}else if(r=t.getHelper(t.getCursor(),"hintWords")){if(r)return e.hint.fromList(t,{words:r})}else if(e.hint.anyword)return e.hint.anyword(t,n)}),e.registerHelper("hint","fromList",function(t,n){for(var r=t.getCursor(),o=t.getTokenAt(r),i=[],l=0;l<n.words.length;l++){var a=n.words[l];a.slice(0,o.string.length)==o.string&&i.push(a)}if(i.length)return{list:i,from:e.Pos(r.line,o.start),to:e.Pos(r.line,o.end)}}),e.commands.autocomplete=e.showHint;var s={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!1,container:null,customKeys:null,extraKeys:null};e.defineOption("hintOptions",null)}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";var t=e.Pos;e.registerHelper("hint","xml",function(n,r){var o=r&&r.schemaInfo,i=r&&r.quoteChar||'"';if(o){var l=n.getCursor(),a=n.getTokenAt(l),s=e.innerMode(n.getMode(),a.state);if("xml"==s.mode.name){var c,u,b=[],f=!1,d=/\btag\b/.test(a.type),h=d&&/^\w/.test(a.string);if(h){var m=n.getLine(l.line).slice(Math.max(0,a.start-2),a.start),g=/<\/$/.test(m)?"close":/<$/.test(m)?"open":null;g&&(u=a.start-("close"==g?2:1))}else d&&"<"==a.string?g="open":d&&"</"==a.string&&(g="close");if(!d&&!s.state.tagName||g){h&&(c=a.string),f=g;var p=s.state.context,v=p&&o[p.tagName],y=p?v&&v.children:o["!top"];if(y&&"close"!=g)for(P=0;P<y.length;++P)c&&0!=y[P].lastIndexOf(c,0)||b.push("<"+y[P]);else if("close"!=g)for(var k in o)!o.hasOwnProperty(k)||"!top"==k||"!attrs"==k||c&&0!=k.lastIndexOf(c,0)||b.push("<"+k);p&&(!c||"close"==g&&0==p.tagName.lastIndexOf(c,0))&&b.push("</"+p.tagName+">")}else{var w=(v=o[s.state.tagName])&&v.attrs,C=o["!attrs"];if(!w&&!C)return;if(w){if(C){var x={};for(var S in C)C.hasOwnProperty(S)&&(x[S]=C[S]);for(var S in w)w.hasOwnProperty(S)&&(x[S]=w[S]);w=x}}else w=C;if("string"==a.type||"="==a.string){var L,M=(m=n.getRange(t(l.line,Math.max(0,l.ch-60)),t(l.line,"string"==a.type?a.start:a.end))).match(/([^\s\u00a0=<>\"\']+)=$/);if(!M||!w.hasOwnProperty(M[1])||!(L=w[M[1]]))return;if("function"==typeof L&&(L=L.call(this,n)),"string"==a.type){c=a.string;var O=0;/['"]/.test(a.string.charAt(0))&&(i=a.string.charAt(0),c=a.string.slice(1),O++);var E=a.string.length;/['"]/.test(a.string.charAt(E-1))&&(i=a.string.charAt(E-1),c=a.string.substr(O,E-2)),f=!0}for(var P=0;P<L.length;++P)c&&0!=L[P].lastIndexOf(c,0)||b.push(i+L[P]+i)}else{"attribute"==a.type&&(c=a.string,f=!0);for(var T in w)!w.hasOwnProperty(T)||c&&0!=T.lastIndexOf(c,0)||b.push(T)}}return{list:b,from:f?t(l.line,null==u?a.start:u):l,to:f?t(l.line,a.end):l}}}})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t in u)u.hasOwnProperty(t)&&(e.attrs[t]=u[t])}var n="ab aa af ak sq am ar an hy as av ae ay az bm ba eu be bn bh bi bs br bg my ca ch ce ny zh cv kw co cr hr cs da dv nl dz en eo et ee fo fj fi fr ff gl ka de el gn gu ht ha he hz hi ho hu ia id ie ga ig ik io is it iu ja jv kl kn kr ks kk km ki rw ky kv kg ko ku kj la lb lg li ln lo lt lu lv gv mk mg ms ml mt mi mr mh mn na nv nb nd ne ng nn no ii nr oc oj cu om or os pa pi fa pl ps pt qu rm rn ro ru sa sc sd se sm sg sr gd sn si sk sl so st es su sw ss sv ta te tg th ti bo tk tl tn to tr ts tt tw ty ug uk ur uz ve vi vo wa cy wo fy xh yi yo za zu".split(" "),r=["_blank","_self","_top","_parent"],o=["ascii","utf-8","utf-16","latin1","latin1"],i=["get","post","put","delete"],l=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],a=["all","screen","print","embossed","braille","handheld","print","projection","screen","tty","tv","speech","3d-glasses","resolution [>][<][=] [X]","device-aspect-ratio: X/Y","orientation:portrait","orientation:landscape","device-height: [X]","device-width: [X]"],s={attrs:{}},c={a:{attrs:{href:null,ping:null,type:null,media:a,target:r,hreflang:n}},abbr:s,acronym:s,address:s,applet:s,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:a,hreflang:n,type:null,shape:["default","rect","circle","poly"]}},article:s,aside:s,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["","autoplay"],loop:["","loop"],controls:["","controls"]}},b:s,base:{attrs:{href:null,target:r}},basefont:s,bdi:s,bdo:s,big:s,blockquote:{attrs:{cite:null}},body:s,br:s,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["","autofocus"],disabled:["","autofocus"],formenctype:l,formmethod:i,formnovalidate:["","novalidate"],formtarget:r,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:s,center:s,cite:s,code:s,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["","disabled"],checked:["","checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["","disabled"],multiple:["","multiple"]}},datalist:{attrs:{data:null}},dd:s,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["","open"]}},dfn:s,dir:s,div:s,dl:s,dt:s,em:s,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["","disabled"],form:null,name:null}},figcaption:s,figure:s,font:s,footer:s,form:{attrs:{action:null,name:null,"accept-charset":o,autocomplete:["on","off"],enctype:l,method:i,novalidate:["","novalidate"],target:r}},frame:s,frameset:s,h1:s,h2:s,h3:s,h4:s,h5:s,h6:s,head:{attrs:{},children:["title","base","link","style","meta","script","noscript","command"]},header:s,hgroup:s,hr:s,html:{attrs:{manifest:null},children:["head","body"]},i:s,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["","seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["","autofocus"],checked:["","checked"],disabled:["","disabled"],formenctype:l,formmethod:i,formnovalidate:["","novalidate"],formtarget:r,multiple:["","multiple"],readonly:["","readonly"],required:["","required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:s,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["","autofocus"],disabled:["","disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:s,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:n,media:a,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:s,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:o,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:s,noframes:s,noscript:s,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["","typemustmatch"]}},ol:{attrs:{reversed:["","reversed"],start:null,type:["1","a","A","i","I"]}},optgroup:{attrs:{disabled:["","disabled"],label:null}},option:{attrs:{disabled:["","disabled"],label:null,selected:["","selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:s,param:{attrs:{name:null,value:null}},pre:s,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:s,rt:s,ruby:s,s:s,samp:s,script:{attrs:{type:["text/javascript"],src:null,async:["","async"],defer:["","defer"],charset:o}},section:s,select:{attrs:{form:null,name:null,size:null,autofocus:["","autofocus"],disabled:["","disabled"],multiple:["","multiple"]}},small:s,source:{attrs:{src:null,type:null,media:null}},span:s,strike:s,strong:s,style:{attrs:{type:["text/css"],media:a,scoped:null}},sub:s,summary:s,sup:s,table:s,tbody:s,td:{attrs:{colspan:null,rowspan:null,headers:null}},textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["","autofocus"],disabled:["","disabled"],readonly:["","readonly"],required:["","required"],wrap:["soft","hard"]}},tfoot:s,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:s,time:{attrs:{datetime:null}},title:s,tr:s,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:n}},tt:s,u:s,ul:s,var:s,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["","autoplay"],mediagroup:["movie"],muted:["","muted"],controls:["","controls"]}},wbr:s},u={accesskey:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],class:null,contenteditable:["true","false"],contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["en","es"],spellcheck:["true","false"],style:null,tabindex:["1","2","3","4","5","6","7","8","9"],title:null,translate:["yes","no"],onclick:null,rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"]};t(s);for(var b in c)c.hasOwnProperty(b)&&c[b]!=s&&t(c[b]);e.htmlSchema=c,e.registerHelper("hint","html",function(t,n){var r={schemaInfo:c};if(n)for(var o in n)r[o]=n[o];return e.hint.xml(t,r)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(t,n){function r(t){if(!o.parentNode)return e.off(document,"mousemove",r);o.style.top=Math.max(0,t.clientY-o.offsetHeight-5)+"px",o.style.left=t.clientX+5+"px"}var o=document.createElement("div");return o.className="CodeMirror-lint-tooltip",o.appendChild(n.cloneNode(!0)),document.body.appendChild(o),e.on(document,"mousemove",r),r(t),null!=o.style.opacity&&(o.style.opacity=1),o}function n(e){e.parentNode&&e.parentNode.removeChild(e)}function r(e){e.parentNode&&(null==e.style.opacity&&n(e),e.style.opacity=0,setTimeout(function(){n(e)},600))}function o(n,o,i){function l(){e.off(i,"mouseout",l),a&&(r(a),a=null)}var a=t(n,o),s=setInterval(function(){if(a)for(var e=i;;e=e.parentNode){if(e&&11==e.nodeType&&(e=e.host),e==document.body)return;if(!e){l();break}}if(!a)return clearInterval(s)},400);e.on(i,"mouseout",l)}function i(e,t,n){this.marked=[],this.options=t,this.timeout=null,this.hasGutter=n,this.onMouseOver=function(t){p(e,t)},this.waitingFor=0}function l(e,t){return t instanceof Function?{getAnnotations:t}:(t&&!0!==t||(t={}),t)}function a(e){var t=e.state.lint;t.hasGutter&&e.clearGutter(v);for(var n=0;n<t.marked.length;++n)t.marked[n].clear();t.marked.length=0}function s(t,n,r,i){var l=document.createElement("div"),a=l;return l.className="CodeMirror-lint-marker-"+n,r&&((a=l.appendChild(document.createElement("div"))).className="CodeMirror-lint-marker-multiple"),0!=i&&e.on(a,"mouseover",function(e){o(e,t,a)}),l}function c(e,t){return"error"==e?e:t}function u(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],o=r.from.line;(t[o]||(t[o]=[])).push(r)}return t}function b(e){var t=e.severity;t||(t="error");var n=document.createElement("div");return n.className="CodeMirror-lint-message-"+t,n.appendChild(document.createTextNode(e.message)),n}function f(t,n,r){function o(){l=-1,t.off("change",o)}var i=t.state.lint,l=++i.waitingFor;t.on("change",o),n(t.getValue(),function(n,r){t.off("change",o),i.waitingFor==l&&(r&&n instanceof e&&(n=r),h(t,n))},r,t)}function d(t){var n=t.state.lint.options,r=n.options||n,o=n.getAnnotations||t.getHelper(e.Pos(0,0),"lint");if(o)if(n.async||o.async)f(t,o,r);else{var i=o(t.getValue(),r,t);if(!i)return;i.then?i.then(function(e){h(t,e)}):h(t,i)}}function h(e,t){a(e);for(var n=e.state.lint,r=n.options,o=u(t),i=0;i<o.length;++i){var l=o[i];if(l){for(var f=null,d=n.hasGutter&&document.createDocumentFragment(),h=0;h<l.length;++h){var m=l[h],g=m.severity;g||(g="error"),f=c(f,g),r.formatAnnotation&&(m=r.formatAnnotation(m)),n.hasGutter&&d.appendChild(b(m)),m.to&&n.marked.push(e.markText(m.from,m.to,{className:"CodeMirror-lint-mark-"+g,__annotation:m}))}n.hasGutter&&e.setGutterMarker(i,v,s(d,f,l.length>1,n.options.tooltips))}}r.onUpdateLinting&&r.onUpdateLinting(t,o,e)}function m(e){var t=e.state.lint;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(function(){d(e)},t.options.delay||500))}function g(e,t){for(var n=t.target||t.srcElement,r=document.createDocumentFragment(),i=0;i<e.length;i++){var l=e[i];r.appendChild(b(l))}o(t,r,n)}function p(e,t){var n=t.target||t.srcElement;if(/\bCodeMirror-lint-mark-/.test(n.className)){for(var r=n.getBoundingClientRect(),o=(r.left+r.right)/2,i=(r.top+r.bottom)/2,l=e.findMarksAt(e.coordsChar({left:o,top:i},"client")),a=[],s=0;s<l.length;++s){var c=l[s].__annotation;c&&a.push(c)}a.length&&g(a,t)}}var v="CodeMirror-lint-markers";e.defineOption("lint",!1,function(t,n,r){if(r&&r!=e.Init&&(a(t),!1!==t.state.lint.options.lintOnChange&&t.off("change",m),e.off(t.getWrapperElement(),"mouseover",t.state.lint.onMouseOver),clearTimeout(t.state.lint.timeout),delete t.state.lint),n){for(var o=t.getOption("gutters"),s=!1,c=0;c<o.length;++c)o[c]==v&&(s=!0);var u=t.state.lint=new i(t,l(0,n),s);!1!==u.options.lintOnChange&&t.on("change",m),0!=u.options.tooltips&&"gutter"!=u.options.tooltips&&e.on(t.getWrapperElement(),"mouseover",u.onMouseOver),d(t)}}),e.defineExtension("performLint",function(){this.state.lint&&d(this)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){return n(e,l,"warning",!0),n(e,a,"error"),r(e)?null:e}function n(e,t,n,r){var o,i,l,a,s;o=e.description;for(var c=0;c<t.length;c++)l="string"==typeof(i=t[c])?i:i[0],a="string"==typeof i?null:i[1],s=-1!==o.indexOf(l),(r||s)&&(e.severity=n),s&&a&&(e.description=a)}function r(e){for(var t=e.description,n=0;n<i.length;n++)if(-1!==t.indexOf(i[n]))return!0;return!1}function o(n,r){for(var o=0;o<n.length;o++){var i=n[o];if(i){var l,a;if(l=[],i.evidence){var s=l[i.line];if(!s){var c=i.evidence;s=[],Array.prototype.forEach.call(c,function(e,t){"\t"===e&&s.push(t+1)}),l[i.line]=s}if(s.length>0){var u=i.character;s.forEach(function(e){u>e&&(u-=1)}),i.character=u}}var b=i.character-1,f=b+1;i.evidence&&(a=i.evidence.substring(b).search(/.\b/))>-1&&(f+=a),i.description=i.reason,i.start=i.character,i.end=f,(i=t(i))&&r.push({message:i.description,severity:i.severity,from:e.Pos(i.line-1,b),to:e.Pos(i.line-1,f)})}}}var i=["Dangerous comment"],l=[["Expected '{'","Statement body should be inside '{ }' braces."]],a=["Missing semicolon","Extra comma","Missing property name","Unmatched "," and instead saw"," is not defined","Unclosed string","Stopping, unable to continue"];e.registerHelper("lint","javascript",function(e,t){if(!window.JSHINT)return[];JSHINT(e,t,t.globals);var n=JSHINT.data().errors,r=[];return n&&o(n,r),r})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerHelper("lint","css",function(t){var n=[];if(!window.CSSLint)return n;for(var r=CSSLint.verify(t).messages,o=null,i=0;i<r.length;i++){var l=(o=r[i]).line-1,a=o.line-1,s=o.col-1,c=o.col;n.push({from:e.Pos(l,s),to:e.Pos(a,c),message:o.message,severity:o.type})}return n})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t){for(var n=0,r=e.length;n<r;++n)t(e[n])}function n(e,t){if(!Array.prototype.indexOf){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}return-1!=e.indexOf(t)}function r(t,n,r,o){var a=t.getCursor(),s=r(t,a),c=s;if(!/\b(?:string|comment)\b/.test(s.type)){for(s.state=e.innerMode(t.getMode(),s.state).state,/^[\w$_]*$/.test(s.string)||(s=c={start:a.ch,end:a.ch,string:"",state:s.state,type:"."==s.string?"property":null});"property"==c.type;){if("."!=(c=r(t,l(a.line,c.start))).string)return;if(c=r(t,l(a.line,c.start)),!u)var u=[];u.push(c)}return{list:i(s,u,n,o),from:l(a.line,s.start),to:l(a.line,s.end)}}}function o(e,t){var n=e.getTokenAt(t);return t.ch==n.start+1&&"."==n.string.charAt(0)?(n.end=n.start,n.string=".",n.type="property"):/^\.[\w$_]*$/.test(n.string)&&(n.type="property",n.start++,n.string=n.string.replace(/\./,"")),n}function i(e,r,o,i){function l(e){0!=e.lastIndexOf(f,0)||n(b,e)||b.push(e)}function u(e){"string"==typeof e?t(a,l):e instanceof Array?t(s,l):e instanceof Function&&t(c,l);for(var n in e)l(n)}var b=[],f=e.string;if(r&&r.length){var d,h=r.pop();for(h.type&&0===h.type.indexOf("variable")?(i&&i.additionalContext&&(d=i.additionalContext[h.string]),i&&!1===i.useGlobalScope||(d=d||window[h.string])):"string"==h.type?d="":"atom"==h.type?d=1:"function"==h.type&&(null==window.jQuery||"$"!=h.string&&"jQuery"!=h.string||"function"!=typeof window.jQuery?null!=window._&&"_"==h.string&&"function"==typeof window._&&(d=window._()):d=window.jQuery());null!=d&&r.length;)d=d[r.pop().string];null!=d&&u(d)}else{for(m=e.state.localVars;m;m=m.next)l(m.name);for(var m=e.state.globalVars;m;m=m.next)l(m.name);i&&!1===i.useGlobalScope||u(window),t(o,l)}return b}var l=e.Pos;e.registerHelper("hint","javascript",function(e,t){return r(e,u,function(e,t){return e.getTokenAt(t)},t)}),e.registerHelper("hint","coffeescript",function(e,t){return r(e,b,o,t)});var a="charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),s="length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),c="prototype apply call bind".split(" "),u="break case catch continue debugger default delete do else false finally for function if in instanceof new null return switch throw true try typeof var void while with".split(" "),b="and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes".split(" ")}),function(){function e(e){var t=document.createElement("span");return t.innerHTML="&nbsp;",t.className="cm-palette-hint",t.style.background=e,t}function t(e){return e.isPaletteMark}function n(e){return e.clear()}function r(e,t){for(var n=[],r=t.from,o=t.to,i=r.line,l=o.line,a=r.line;a<=l;){var s=e.getLineHandle(a),c=s&&s.markedSpans;if(c)for(var u=a===l,b=a===i,f=c.length,d=0;d<f;){var h=c[d];(b?h.from>=r.ch:!u||h.to<=o.ch)&&n.push(h.marker.parent||h.marker),d+=1}a+=1}return n}function o(o,i){var a=o.getDoc();r(o,i).filter(t).forEach(n);var s=!0;o.eachLine(i.from.line,i.to.line+1,function(t){for(var n=t.text,r=null,o=0;r=n.match(l);){var c=r[0],u=n.indexOf(c),b=u+c.length,f=n[u-1],d=n[b];o+=b,n=n.substr(b),(!d||",; )}".indexOf(d)>=0)&&(!f||"{(,: ".indexOf(f))>=0&&(!s||o>=i.from.ch)&&(a.setBookmark({line:a.getLineNumber(t),ch:o},{widget:e(c),insertLeft:!0}).isPaletteMark=!0)}s=!1})}function i(e,t){if("paste"===t.origin){var n=e.getHistory().done;try{t=n[n.length-1].changes[0]}catch(e){}}for(;t;)o(e,t),t=t.next}var l=/#[a-f0-9]{6}\b|#[a-f0-9]{3}\b|\brgb\(\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*,\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*,\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*\)|\brgb\(\s*(?:[0-9]{1,2}%|100%)\s*,\s*(?:[0-9]{1,2}%|100%)\s*,\s*(?:[0-9]{1,2}%|100%)\s*\)|\brgba\(\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*,\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*,\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*,\s*(?:1|1\.0|0|0?\.[0-9]{1,3})\s*\)|\brgba\(\s*(?:[0-9]{1,2}%|100%)\s*,\s*(?:[0-9]{1,2}%|100%)\s*,\s*(?:[0-9]{1,2}%|100%)\s*,\s*(?:1|1\.0|0|0?\.[0-9]{1,3})\s*\)|\bhsl\(\s*(?:[0-9]{1,3})\b\s*,\s*(?:[0-9]{1,2}|100)\b%\s*,\s*(?:[0-9]{1,2}|100)\b%\s*\)|\bhsla\(\s*(?:[0-9]{1,3})\b\s*,\s*(?:[0-9]{1,2}|100)\b%\s*,\s*(?:[0-9]{1,2}|100)\b%\s*,\s*(?:1|1\.0|0|0?\.[0-9]{1,3})\s*\)|\baliceblue\b|\bantiquewhite\b|\baqua\b|\baquamarine\b|\bazure\b|\bbeige\b|\bbisque\b|\bblack\b|\bblanchedalmond\b|\bblue\b|\bblueviolet\b|\bbrown\b|\bburlywood\b|\bcadetblue\b|\bchartreuse\b|\bchocolate\b|\bcoral\b|\bcornflowerblue\b|\bcornsilk\b|\bcrimson\b|\bcyan\b|\bdarkblue\b|\bdarkcyan\b|\bdarkgoldenrod\b|\bdarkgray\b|\bdarkgreen\b|\bdarkgrey\b|\bdarkkhaki\b|\bdarkmagenta\b|\bdarkolivegreen\b|\bdarkorange\b|\bdarkorchid\b|\bdarkred\b|\bdarksalmon\b|\bdarkseagreen\b|\bdarkslateblue\b|\bdarkslategray\b|\bdarkslategrey\b|\bdarkturquoise\b|\bdarkviolet\b|\bdeeppink\b|\bdeepskyblue\b|\bdimgray\b|\bdimgrey\b|\bdodgerblue\b|\bfirebrick\b|\bfloralwhite\b|\bforestgreen\b|\bfuchsia\b|\bgainsboro\b|\bghostwhite\b|\bgold\b|\bgoldenrod\b|\bgray\b|\bgreen\b|\bgreenyellow\b|\bgrey\b|\bhoneydew\b|\bhotpink\b|\bindianred\b|\bindigo\b|\bivory\b|\bkhaki\b|\blavender\b|\blavenderblush\b|\blawngreen\b|\blemonchiffon\b|\blightblue\b|\blightcoral\b|\blightcyan\b|\blightgoldenrodyellow\b|\blightgray\b|\blightgreen\b|\blightgrey\b|\blightpink\b|\blightsalmon\b|\blightseagreen\b|\blightskyblue\b|\blightslategray\b|\blightslategrey\b|\blightsteelblue\b|\blightyellow\b|\blime\b|\blimegreen\b|\blinen\b|\bmagenta\b|\bmaroon\b|\bmediumaquamarine\b|\bmediumblue\b|\bmediumorchid\b|\bmediumpurple\b|\bmediumseagreen\b|\bmediumslateblue\b|\bmediumspringgreen\b|\bmediumturquoise\b|\bmediumvioletred\b|\bmidnightblue\b|\bmintcream\b|\bmistyrose\b|\bmoccasin\b|\bnavajowhite\b|\bnavy\b|\boldlace\b|\bolive\b|\bolivedrab\b|\borange\b|\borangered\b|\borchid\b|\bpalegoldenrod\b|\bpalegreen\b|\bpaleturquoise\b|\bpalevioletred\b|\bpapayawhip\b|\bpeachpuff\b|\bperu\b|\bpink\b|\bplum\b|\bpowderblue\b|\bpurple\b|\bred\b|\brosybrown\b|\broyalblue\b|\bsaddlebrown\b|\bsalmon\b|\bsandybrown\b|\bseagreen\b|\bseashell\b|\bsienna\b|\bsilver\b|\bskyblue\b|\bslateblue\b|\bslategray\b|\bslategrey\b|\bsnow\b|\bspringgreen\b|\bsteelblue\b|\btan\b|\bteal\b|\bthistle\b|\btomato\b|\bturquoise\b|\bviolet\b|\bwheat\b|\bwhite\b|\bwhitesmoke\b|\byellow\b|\byellowgreen\b|\btransparent\b/i;CodeMirror.defineOption("paletteHints",!1,function(e,r,l){r?(e.on("change",i),o(e,{from:{line:e.firstLine(),ch:0},to:{line:e.lastLine()+1,ch:0}})):(e.off("change",i),e.getAllMarks().filter(t).forEach(n))})}(),function(){function e(e){var t=document.createElement("span");return t.innerHTML="&nbsp;",t.className="cm-palette-hint",t.style.background=e,t}function t(e){return e.isPaletteMark}function n(e){return e.clear()}function r(e,t){for(var n=[],r=t.from,o=t.to,i=r.line,l=o.line,a=r.line;a<=l;){var s=e.getLineHandle(a),c=s&&s.markedSpans;if(c)for(var u=a===l,b=a===i,f=c.length,d=0;d<f;){var h=c[d];(b?h.from>=r.ch:!u||h.to<=o.ch)&&n.push(h.marker.parent||h.marker),d+=1}a+=1}return n}function o(o,i){var a=o.getDoc();r(o,i).filter(t).forEach(n);var s=!0;o.eachLine(i.from.line,i.to.line+1,function(t){for(var n=t.text,r=null,o=0;r=n.match(l);){var c=r[0],u=n.indexOf(c),b=u+c.length,f=n[u-1],d=n[b];o+=b,n=n.substr(b),(!d||",; )}".indexOf(d)>=0)&&(!f||"{(,: ".indexOf(f))>=0&&(!s||o>=i.from.ch)&&(a.setBookmark({line:a.getLineNumber(t),ch:o},{widget:e(c),insertLeft:!0}).isPaletteMark=!0)}s=!1})}function i(e,t){if("paste"===t.origin){var n=e.getHistory().done;try{t=n[n.length-1].changes[0]}catch(e){}}for(;t;)o(e,t),t=t.next}var l=/#[a-f0-9]{6}\b|#[a-f0-9]{3}\b|\brgb\(\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*,\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*,\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*\)|\brgb\(\s*(?:[0-9]{1,2}%|100%)\s*,\s*(?:[0-9]{1,2}%|100%)\s*,\s*(?:[0-9]{1,2}%|100%)\s*\)|\brgba\(\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*,\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*,\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*,\s*(?:1|1\.0|0|0?\.[0-9]{1,3})\s*\)|\brgba\(\s*(?:[0-9]{1,2}%|100%)\s*,\s*(?:[0-9]{1,2}%|100%)\s*,\s*(?:[0-9]{1,2}%|100%)\s*,\s*(?:1|1\.0|0|0?\.[0-9]{1,3})\s*\)|\bhsl\(\s*(?:[0-9]{1,3})\b\s*,\s*(?:[0-9]{1,2}|100)\b%\s*,\s*(?:[0-9]{1,2}|100)\b%\s*\)|\bhsla\(\s*(?:[0-9]{1,3})\b\s*,\s*(?:[0-9]{1,2}|100)\b%\s*,\s*(?:[0-9]{1,2}|100)\b%\s*,\s*(?:1|1\.0|0|0?\.[0-9]{1,3})\s*\)|\baliceblue\b|\bantiquewhite\b|\baqua\b|\baquamarine\b|\bazure\b|\bbeige\b|\bbisque\b|\bblack\b|\bblanchedalmond\b|\bblue\b|\bblueviolet\b|\bbrown\b|\bburlywood\b|\bcadetblue\b|\bchartreuse\b|\bchocolate\b|\bcoral\b|\bcornflowerblue\b|\bcornsilk\b|\bcrimson\b|\bcyan\b|\bdarkblue\b|\bdarkcyan\b|\bdarkgoldenrod\b|\bdarkgray\b|\bdarkgreen\b|\bdarkgrey\b|\bdarkkhaki\b|\bdarkmagenta\b|\bdarkolivegreen\b|\bdarkorange\b|\bdarkorchid\b|\bdarkred\b|\bdarksalmon\b|\bdarkseagreen\b|\bdarkslateblue\b|\bdarkslategray\b|\bdarkslategrey\b|\bdarkturquoise\b|\bdarkviolet\b|\bdeeppink\b|\bdeepskyblue\b|\bdimgray\b|\bdimgrey\b|\bdodgerblue\b|\bfirebrick\b|\bfloralwhite\b|\bforestgreen\b|\bfuchsia\b|\bgainsboro\b|\bghostwhite\b|\bgold\b|\bgoldenrod\b|\bgray\b|\bgreen\b|\bgreenyellow\b|\bgrey\b|\bhoneydew\b|\bhotpink\b|\bindianred\b|\bindigo\b|\bivory\b|\bkhaki\b|\blavender\b|\blavenderblush\b|\blawngreen\b|\blemonchiffon\b|\blightblue\b|\blightcoral\b|\blightcyan\b|\blightgoldenrodyellow\b|\blightgray\b|\blightgreen\b|\blightgrey\b|\blightpink\b|\blightsalmon\b|\blightseagreen\b|\blightskyblue\b|\blightslategray\b|\blightslategrey\b|\blightsteelblue\b|\blightyellow\b|\blime\b|\blimegreen\b|\blinen\b|\bmagenta\b|\bmaroon\b|\bmediumaquamarine\b|\bmediumblue\b|\bmediumorchid\b|\bmediumpurple\b|\bmediumseagreen\b|\bmediumslateblue\b|\bmediumspringgreen\b|\bmediumturquoise\b|\bmediumvioletred\b|\bmidnightblue\b|\bmintcream\b|\bmistyrose\b|\bmoccasin\b|\bnavajowhite\b|\bnavy\b|\boldlace\b|\bolive\b|\bolivedrab\b|\borange\b|\borangered\b|\borchid\b|\bpalegoldenrod\b|\bpalegreen\b|\bpaleturquoise\b|\bpalevioletred\b|\bpapayawhip\b|\bpeachpuff\b|\bperu\b|\bpink\b|\bplum\b|\bpowderblue\b|\bpurple\b|\bred\b|\brosybrown\b|\broyalblue\b|\bsaddlebrown\b|\bsalmon\b|\bsandybrown\b|\bseagreen\b|\bseashell\b|\bsienna\b|\bsilver\b|\bskyblue\b|\bslateblue\b|\bslategray\b|\bslategrey\b|\bsnow\b|\bspringgreen\b|\bsteelblue\b|\btan\b|\bteal\b|\bthistle\b|\btomato\b|\bturquoise\b|\bviolet\b|\bwheat\b|\bwhite\b|\bwhitesmoke\b|\byellow\b|\byellowgreen\b|\btransparent\b/i;CodeMirror.defineOption("paletteHints",!1,function(e,r,l){r?(e.on("change",i),o(e,{from:{line:e.firstLine(),ch:0},to:{line:e.lastLine()+1,ch:0}})):(e.off("change",i),e.getAllMarks().filter(t).forEach(n))})}(),function(){function e(e){var t=document.createElement("span");return t.innerHTML="&nbsp;",t.className="cm-palette-hint",t.style.background=e,t}function t(e){return e.isPaletteMark}function n(e){return e.clear()}function r(e,t){for(var n=[],r=t.from,o=t.to,i=r.line,l=o.line,a=r.line;a<=l;){var s=e.getLineHandle(a),c=s&&s.markedSpans;if(c)for(var u=a===l,b=a===i,f=c.length,d=0;d<f;){var h=c[d];(b?h.from>=r.ch:!u||h.to<=o.ch)&&n.push(h.marker.parent||h.marker),d+=1}a+=1}return n}function o(o,i){var a=o.getDoc();r(o,i).filter(t).forEach(n);var s=!0;o.eachLine(i.from.line,i.to.line+1,function(t){for(var n=t.text,r=null,o=0;r=n.match(l);){var c=r[0],u=n.indexOf(c),b=u+c.length,f=n[u-1],d=n[b];o+=b,n=n.substr(b),(!d||",; )}".indexOf(d)>=0)&&(!f||"{(,: ".indexOf(f))>=0&&(!s||o>=i.from.ch)&&(a.setBookmark({line:a.getLineNumber(t),ch:o},{widget:e(c),insertLeft:!0}).isPaletteMark=!0)}s=!1})}function i(e,t){if("paste"===t.origin){var n=e.getHistory().done;try{t=n[n.length-1].changes[0]}catch(e){}}for(;t;)o(e,t),t=t.next}var l=/#[a-f0-9]{6}\b|#[a-f0-9]{3}\b|\brgb\(\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*,\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*,\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*\)|\brgb\(\s*(?:[0-9]{1,2}%|100%)\s*,\s*(?:[0-9]{1,2}%|100%)\s*,\s*(?:[0-9]{1,2}%|100%)\s*\)|\brgba\(\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*,\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*,\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*,\s*(?:1|1\.0|0|0?\.[0-9]{1,3})\s*\)|\brgba\(\s*(?:[0-9]{1,2}%|100%)\s*,\s*(?:[0-9]{1,2}%|100%)\s*,\s*(?:[0-9]{1,2}%|100%)\s*,\s*(?:1|1\.0|0|0?\.[0-9]{1,3})\s*\)|\bhsl\(\s*(?:[0-9]{1,3})\b\s*,\s*(?:[0-9]{1,2}|100)\b%\s*,\s*(?:[0-9]{1,2}|100)\b%\s*\)|\bhsla\(\s*(?:[0-9]{1,3})\b\s*,\s*(?:[0-9]{1,2}|100)\b%\s*,\s*(?:[0-9]{1,2}|100)\b%\s*,\s*(?:1|1\.0|0|0?\.[0-9]{1,3})\s*\)|\baliceblue\b|\bantiquewhite\b|\baqua\b|\baquamarine\b|\bazure\b|\bbeige\b|\bbisque\b|\bblack\b|\bblanchedalmond\b|\bblue\b|\bblueviolet\b|\bbrown\b|\bburlywood\b|\bcadetblue\b|\bchartreuse\b|\bchocolate\b|\bcoral\b|\bcornflowerblue\b|\bcornsilk\b|\bcrimson\b|\bcyan\b|\bdarkblue\b|\bdarkcyan\b|\bdarkgoldenrod\b|\bdarkgray\b|\bdarkgreen\b|\bdarkgrey\b|\bdarkkhaki\b|\bdarkmagenta\b|\bdarkolivegreen\b|\bdarkorange\b|\bdarkorchid\b|\bdarkred\b|\bdarksalmon\b|\bdarkseagreen\b|\bdarkslateblue\b|\bdarkslategray\b|\bdarkslategrey\b|\bdarkturquoise\b|\bdarkviolet\b|\bdeeppink\b|\bdeepskyblue\b|\bdimgray\b|\bdimgrey\b|\bdodgerblue\b|\bfirebrick\b|\bfloralwhite\b|\bforestgreen\b|\bfuchsia\b|\bgainsboro\b|\bghostwhite\b|\bgold\b|\bgoldenrod\b|\bgray\b|\bgreen\b|\bgreenyellow\b|\bgrey\b|\bhoneydew\b|\bhotpink\b|\bindianred\b|\bindigo\b|\bivory\b|\bkhaki\b|\blavender\b|\blavenderblush\b|\blawngreen\b|\blemonchiffon\b|\blightblue\b|\blightcoral\b|\blightcyan\b|\blightgoldenrodyellow\b|\blightgray\b|\blightgreen\b|\blightgrey\b|\blightpink\b|\blightsalmon\b|\blightseagreen\b|\blightskyblue\b|\blightslategray\b|\blightslategrey\b|\blightsteelblue\b|\blightyellow\b|\blime\b|\blimegreen\b|\blinen\b|\bmagenta\b|\bmaroon\b|\bmediumaquamarine\b|\bmediumblue\b|\bmediumorchid\b|\bmediumpurple\b|\bmediumseagreen\b|\bmediumslateblue\b|\bmediumspringgreen\b|\bmediumturquoise\b|\bmediumvioletred\b|\bmidnightblue\b|\bmintcream\b|\bmistyrose\b|\bmoccasin\b|\bnavajowhite\b|\bnavy\b|\boldlace\b|\bolive\b|\bolivedrab\b|\borange\b|\borangered\b|\borchid\b|\bpalegoldenrod\b|\bpalegreen\b|\bpaleturquoise\b|\bpalevioletred\b|\bpapayawhip\b|\bpeachpuff\b|\bperu\b|\bpink\b|\bplum\b|\bpowderblue\b|\bpurple\b|\bred\b|\brosybrown\b|\broyalblue\b|\bsaddlebrown\b|\bsalmon\b|\bsandybrown\b|\bseagreen\b|\bseashell\b|\bsienna\b|\bsilver\b|\bskyblue\b|\bslateblue\b|\bslategray\b|\bslategrey\b|\bsnow\b|\bspringgreen\b|\bsteelblue\b|\btan\b|\bteal\b|\bthistle\b|\btomato\b|\bturquoise\b|\bviolet\b|\bwheat\b|\bwhite\b|\bwhitesmoke\b|\byellow\b|\byellowgreen\b|\btransparent\b/i;CodeMirror.defineOption("paletteHints",!1,function(e,r,l){r?(e.on("change",i),o(e,{from:{line:e.firstLine(),ch:0},to:{line:e.lastLine()+1,ch:0}})):(e.off("change",i),e.getAllMarks().filter(t).forEach(n))})}(),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../lib/codemirror"),require("../addon/search/searchcursor"),require("../addon/edit/matchbrackets")):"function"==typeof define&&define.amd?define(["../lib/codemirror","../addon/search/searchcursor","../addon/edit/matchbrackets"],e):e(CodeMirror)}(function(e){"use strict";function t(t,n,r){if(r<0&&0==n.ch)return t.clipPos(h(n.line-1));var o=t.getLine(n.line);if(r>0&&n.ch>=o.length)return t.clipPos(h(n.line+1,0));for(var i,l="start",a=n.ch,s=r<0?0:o.length,c=0;a!=s;a+=r,c++){var u=o.charAt(r<0?a-1:a),b="_"!=u&&e.isWordChar(u)?"w":"o";if("w"==b&&u.toUpperCase()==u&&(b="W"),"start"==l)"o"!=b&&(l="in",i=b);else if("in"==l&&i!=b){if("w"==i&&"W"==b&&r<0&&a--,"W"==i&&"w"==b&&r>0){i="w";continue}break}}return h(n.line,a)}function n(e,n){e.extendSelectionsBy(function(r){return e.display.shift||e.doc.extend||r.empty()?t(e.doc,r.head,n):n<0?r.from():r.to()})}function r(t,n){if(t.isReadOnly())return e.Pass;t.operation(function(){for(var e=t.listSelections().length,r=[],o=-1,i=0;i<e;i++){var l=t.listSelections()[i].head;if(!(l.line<=o)){var a=h(l.line+(n?0:1),0);t.replaceRange("\n",a,null,"+insertLine"),t.indentLine(a.line,null,!0),r.push({head:a,anchor:a}),o=l.line+1}}t.setSelections(r)}),t.execCommand("indentAuto")}function o(t,n){for(var r=n.ch,o=r,i=t.getLine(n.line);r&&e.isWordChar(i.charAt(r-1));)--r;for(;o<i.length&&e.isWordChar(i.charAt(o));)++o;return{from:h(n.line,r),to:h(n.line,o),word:i.slice(r,o)}}function i(e,t){for(var n=e.listSelections(),r=[],o=0;o<n.length;o++){var i=n[o],l={anchor:e.findPosV(i.anchor,t,"line"),head:e.findPosV(i.head,t,"line")};r.push(i),r.push(l)}e.setSelections(r)}function l(e,t,n){for(var r=0;r<e.length;r++)if(e[r].from()==t&&e[r].to()==n)return!0;return!1}function a(e){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var o=t[r].head,i=e.scanForBracket(o,-1);if(!i)return!1;for(;;){var l=e.scanForBracket(o,1);if(!l)return!1;if(l.ch==k.charAt(k.indexOf(i.ch)+1)){n.push({anchor:h(i.pos.line,i.pos.ch+1),head:l.pos});break}o=h(l.pos.line,l.pos.ch+1)}}return e.setSelections(n),!0}function s(t,n){if(t.isReadOnly())return e.Pass;for(var r,o=t.listSelections(),i=[],l=0;l<o.length;l++){var a=o[l];if(!a.empty()){for(var s=a.from().line,c=a.to().line;l<o.length-1&&o[l+1].from().line==c;)c=o[++l].to().line;o[l].to().ch||c--,i.push(s,c)}}i.length?r=!0:i.push(t.firstLine(),t.lastLine()),t.operation(function(){for(var e=[],o=0;o<i.length;o+=2){var l=i[o],a=i[o+1],s=h(l,0),c=h(a),u=t.getRange(s,c,!1);n?u.sort():u.sort(function(e,t){var n=e.toUpperCase(),r=t.toUpperCase();return n!=r&&(e=n,t=r),e<t?-1:e==t?0:1}),t.replaceRange(u,s,c),r&&e.push({anchor:s,head:h(a+1,0)})}r&&t.setSelections(e,0)})}function c(t,n){t.operation(function(){for(var r=t.listSelections(),i=[],l=[],a=0;a<r.length;a++)(c=r[a]).empty()?(i.push(a),l.push("")):l.push(n(t.getRange(c.from(),c.to())));t.replaceSelections(l,"around","case");for(var s,a=i.length-1;a>=0;a--){var c=r[i[a]];if(!(s&&e.cmpPos(c.head,s)>0)){var u=o(t,c.head);s=u.from,t.replaceRange(n(u.word),u.from,u.to)}}})}function u(t){var n=t.getCursor("from"),r=t.getCursor("to");if(0==e.cmpPos(n,r)){var i=o(t,n);if(!i.word)return;n=i.from,r=i.to}return{from:n,to:r,query:t.getRange(n,r),word:i}}function b(e,t){var n=u(e);if(n){var r=n.query,o=e.getSearchCursor(r,t?n.to:n.from);(t?o.findNext():o.findPrevious())?e.setSelection(o.from(),o.to()):(o=e.getSearchCursor(r,t?h(e.firstLine(),0):e.clipPos(h(e.lastLine()))),(t?o.findNext():o.findPrevious())?e.setSelection(o.from(),o.to()):n.word&&e.setSelection(n.from,n.to))}}var f=e.keyMap.sublime={fallthrough:"default"},d=e.commands,h=e.Pos,m=e.keyMap.default==e.keyMap.macDefault,g=m?"Cmd-":"Ctrl-",p=m?"Ctrl-":"Alt-";d[f[p+"Left"]="goSubwordLeft"]=function(e){n(e,-1)},d[f[p+"Right"]="goSubwordRight"]=function(e){n(e,1)},m&&(f["Cmd-Left"]="goLineStartSmart");var v=m?"Ctrl-Alt-":"Ctrl-";d[f[v+"Up"]="scrollLineUp"]=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top+t.clientHeight,"local");e.getCursor().line>=n&&e.execCommand("goLineUp")}e.scrollTo(null,t.top-e.defaultTextHeight())},d[f[v+"Down"]="scrollLineDown"]=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top,"local")+1;e.getCursor().line<=n&&e.execCommand("goLineDown")}e.scrollTo(null,t.top+e.defaultTextHeight())},d[f["Shift-"+g+"L"]="splitSelectionByLine"]=function(e){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)for(var o=t[r].from(),i=t[r].to(),l=o.line;l<=i.line;++l)i.line>o.line&&l==i.line&&0==i.ch||n.push({anchor:l==o.line?o:h(l,0),head:l==i.line?i:h(l)});e.setSelections(n,0)},f["Shift-Tab"]="indentLess",d[f.Esc="singleSelectionTop"]=function(e){var t=e.listSelections()[0];e.setSelection(t.anchor,t.head,{scroll:!1})},d[f[g+"L"]="selectLine"]=function(e){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var o=t[r];n.push({anchor:h(o.from().line,0),head:h(o.to().line+1,0)})}e.setSelections(n)},f["Shift-Ctrl-K"]="deleteLine",d[f[g+"Enter"]="insertLineAfter"]=function(e){return r(e,!1)},d[f["Shift-"+g+"Enter"]="insertLineBefore"]=function(e){return r(e,!0)},d[f[g+"D"]="selectNextOccurrence"]=function(t){var n=t.getCursor("from"),r=t.getCursor("to"),i=t.state.sublimeFindFullWord==t.doc.sel;if(0==e.cmpPos(n,r)){var a=o(t,n);if(!a.word)return;t.setSelection(a.from,a.to),i=!0}else{var s=t.getRange(n,r),c=i?new RegExp("\\b"+s+"\\b"):s,u=t.getSearchCursor(c,r),b=u.findNext();if(b||(b=(u=t.getSearchCursor(c,h(t.firstLine(),0))).findNext()),!b||l(t.listSelections(),u.from(),u.to()))return e.Pass;t.addSelection(u.from(),u.to())}i&&(t.state.sublimeFindFullWord=t.doc.sel)};var y=m?"Shift-Cmd":"Alt-Ctrl";d[f[y+"Up"]="addCursorToPrevLine"]=function(e){i(e,-1)},d[f[y+"Down"]="addCursorToNextLine"]=function(e){i(e,1)};var k="(){}[]";d[f["Shift-"+g+"Space"]="selectScope"]=function(e){a(e)||e.execCommand("selectAll")},d[f["Shift-"+g+"M"]="selectBetweenBrackets"]=function(t){if(!a(t))return e.Pass},d[f[g+"M"]="goToBracket"]=function(t){t.extendSelectionsBy(function(n){var r=t.scanForBracket(n.head,1);if(r&&0!=e.cmpPos(r.pos,n.head))return r.pos;var o=t.scanForBracket(n.head,-1);return o&&h(o.pos.line,o.pos.ch+1)||n.head})};var w=m?"Cmd-Ctrl-":"Shift-Ctrl-";d[f[w+"Up"]="swapLineUp"]=function(t){if(t.isReadOnly())return e.Pass;for(var n=t.listSelections(),r=[],o=t.firstLine()-1,i=[],l=0;l<n.length;l++){var a=n[l],s=a.from().line-1,c=a.to().line;i.push({anchor:h(a.anchor.line-1,a.anchor.ch),head:h(a.head.line-1,a.head.ch)}),0!=a.to().ch||a.empty()||--c,s>o?r.push(s,c):r.length&&(r[r.length-1]=c),o=c}t.operation(function(){for(var e=0;e<r.length;e+=2){var n=r[e],o=r[e+1],l=t.getLine(n);t.replaceRange("",h(n,0),h(n+1,0),"+swapLine"),o>t.lastLine()?t.replaceRange("\n"+l,h(t.lastLine()),null,"+swapLine"):t.replaceRange(l+"\n",h(o,0),null,"+swapLine")}t.setSelections(i),t.scrollIntoView()})},d[f[w+"Down"]="swapLineDown"]=function(t){if(t.isReadOnly())return e.Pass;for(var n=t.listSelections(),r=[],o=t.lastLine()+1,i=n.length-1;i>=0;i--){var l=n[i],a=l.to().line+1,s=l.from().line;0!=l.to().ch||l.empty()||a--,a<o?r.push(a,s):r.length&&(r[r.length-1]=s),o=s}t.operation(function(){for(var e=r.length-2;e>=0;e-=2){var n=r[e],o=r[e+1],i=t.getLine(n);n==t.lastLine()?t.replaceRange("",h(n-1),h(n),"+swapLine"):t.replaceRange("",h(n,0),h(n+1,0),"+swapLine"),t.replaceRange(i+"\n",h(o,0),null,"+swapLine")}t.scrollIntoView()})},d[f[g+"/"]="toggleCommentIndented"]=function(e){e.toggleComment({indent:!0})},d[f[g+"J"]="joinLines"]=function(e){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){for(var o=t[r],i=o.from(),l=i.line,a=o.to().line;r<t.length-1&&t[r+1].from().line==a;)a=t[++r].to().line;n.push({start:l,end:a,anchor:!o.empty()&&i})}e.operation(function(){for(var t=0,r=[],o=0;o<n.length;o++){for(var i,l=n[o],a=l.anchor&&h(l.anchor.line-t,l.anchor.ch),s=l.start;s<=l.end;s++){var c=s-t;s==l.end&&(i=h(c,e.getLine(c).length+1)),c<e.lastLine()&&(e.replaceRange(" ",h(c),h(c+1,/^\s*/.exec(e.getLine(c+1))[0].length)),++t)}r.push({anchor:a||i,head:i})}e.setSelections(r,0)})},d[f["Shift-"+g+"D"]="duplicateLine"]=function(e){e.operation(function(){for(var t=e.listSelections().length,n=0;n<t;n++){var r=e.listSelections()[n];r.empty()?e.replaceRange(e.getLine(r.head.line)+"\n",h(r.head.line,0)):e.replaceRange(e.getRange(r.from(),r.to()),r.from())}e.scrollIntoView()})},m||(f[g+"T"]="transposeChars"),d[f.F9="sortLines"]=function(e){s(e,!0)},d[f[g+"F9"]="sortLinesInsensitive"]=function(e){s(e,!1)},d[f.F2="nextBookmark"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){var n=t.shift(),r=n.find();if(r)return t.push(n),e.setSelection(r.from,r.to)}},d[f["Shift-F2"]="prevBookmark"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){t.unshift(t.pop());var n=t[t.length-1].find();if(n)return e.setSelection(n.from,n.to);t.pop()}},d[f[g+"F2"]="toggleBookmark"]=function(e){for(var t=e.listSelections(),n=e.state.sublimeBookmarks||(e.state.sublimeBookmarks=[]),r=0;r<t.length;r++){for(var o=t[r].from(),i=t[r].to(),l=e.findMarks(o,i),a=0;a<l.length;a++)if(l[a].sublimeBookmark){l[a].clear();for(var s=0;s<n.length;s++)n[s]==l[a]&&n.splice(s--,1);break}a==l.length&&n.push(e.markText(o,i,{sublimeBookmark:!0,clearWhenEmpty:!1}))}},d[f["Shift-"+g+"F2"]="clearBookmarks"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(var n=0;n<t.length;n++)t[n].clear();t.length=0},d[f["Alt-F2"]="selectBookmarks"]=function(e){var t=e.state.sublimeBookmarks,n=[];if(t)for(var r=0;r<t.length;r++){var o=t[r].find();o?n.push({anchor:o.from,head:o.to}):t.splice(r--,0)}n.length&&e.setSelections(n,0)},f["Alt-Q"]="wrapLines";var C=g+"K ";f[C+g+"Backspace"]="delLineLeft",d[f.Backspace="smartBackspace"]=function(t){if(t.somethingSelected())return e.Pass;t.operation(function(){for(var n=t.listSelections(),r=t.getOption("indentUnit"),o=n.length-1;o>=0;o--){var i=n[o].head,l=t.getRange({line:i.line,ch:0},i),a=e.countColumn(l,null,t.getOption("tabSize")),s=t.findPosH(i,-1,"char",!1);if(l&&!/\S/.test(l)&&a%r==0){var c=new h(i.line,e.findColumn(l,a-r,r));c.ch!=i.ch&&(s=c)}t.replaceRange("",s,i,"+delete")}})},d[f[C+g+"K"]="delLineRight"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange("",t[n].anchor,h(t[n].to().line),"+delete");e.scrollIntoView()})},d[f[C+g+"U"]="upcaseAtCursor"]=function(e){c(e,function(e){return e.toUpperCase()})},d[f[C+g+"L"]="downcaseAtCursor"]=function(e){c(e,function(e){return e.toLowerCase()})},d[f[C+g+"Space"]="setSublimeMark"]=function(e){e.state.sublimeMark&&e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor())},d[f[C+g+"A"]="selectToSublimeMark"]=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&e.setSelection(e.getCursor(),t)},d[f[C+g+"W"]="deleteToSublimeMark"]=function(t){var n=t.state.sublimeMark&&t.state.sublimeMark.find();if(n){var r=t.getCursor(),o=n;if(e.cmpPos(r,o)>0){var i=o;o=r,r=i}t.state.sublimeKilled=t.getRange(r,o),t.replaceRange("",r,o)}},d[f[C+g+"X"]="swapWithSublimeMark"]=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&(e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor()),e.setCursor(t))},d[f[C+g+"Y"]="sublimeYank"]=function(e){null!=e.state.sublimeKilled&&e.replaceSelection(e.state.sublimeKilled,null,"paste")},f[C+g+"G"]="clearBookmarks",d[f[C+g+"C"]="showInCenter"]=function(e){var t=e.cursorCoords(null,"local");e.scrollTo(null,(t.top+t.bottom)/2-e.getScrollInfo().clientHeight/2)};var x=m?"Ctrl-Shift-":"Ctrl-Alt-";d[f[x+"Up"]="selectLinesUpward"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=0;n<t.length;n++){var r=t[n];r.head.line>e.firstLine()&&e.addSelection(h(r.head.line-1,r.head.ch))}})},d[f[x+"Down"]="selectLinesDownward"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=0;n<t.length;n++){var r=t[n];r.head.line<e.lastLine()&&e.addSelection(h(r.head.line+1,r.head.ch))}})},d[f[g+"F3"]="findUnder"]=function(e){b(e,!0)},d[f["Shift-"+g+"F3"]="findUnderPrevious"]=function(e){b(e,!1)},d[f["Alt-F3"]="findAllUnder"]=function(e){var t=u(e);if(t){for(var n=e.getSearchCursor(t.query),r=[],o=-1;n.findNext();)r.push({anchor:n.from(),head:n.to()}),n.from().line<=t.from.line&&n.from().ch<=t.from.ch&&o++;e.setSelections(r,o)}},f["Shift-"+g+"["]="fold",f["Shift-"+g+"]"]="unfold",f[C+g+"0"]=f[C+g+"J"]="unfoldAll",f[g+"I"]="findIncremental",f["Shift-"+g+"I"]="findIncrementalReverse",f[g+"H"]="replace",f.F3="findNext",f["Shift-F3"]="findPrev",e.normalizeKeyMap(f)});